{"ast":null,"code":"import React from'react';import{connect}from'react-redux';import{useForm}from'react-hook-form';import{hideAddForm,addHotDogStart,getAllHotDogsStart}from'../../redux/actions';import{allHotDogsSelector}from'../../redux/selectors';import'./add-form.css';var AddForm=function AddForm(_ref){var hideAddForm=_ref.hideAddForm,hotDogs=_ref.hotDogs,addHotDogStart=_ref.addHotDogStart;var names=hotDogs?hotDogs.map(function(el){return el.title;}):[];var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;var saveHotDog=function saveHotDog(data){addHotDogStart(data);hideAddForm();};return/*#__PURE__*/React.createElement(\"div\",{className:\"add-form__wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"add-form\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"add-form__title\"},\"Add new hot-dog\"),/*#__PURE__*/React.createElement(\"form\",{className:\"add-form__form\",onSubmit:handleSubmit(function(data){return saveHotDog(data);})},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Name\",name:\"title\",ref:register({required:true,validate:{occupied:function occupied(value){var isOccupied;names.forEach(function(el){if(value===el){isOccupied=false;}});return isOccupied;}}})}),errors.title&&errors.title.type==='occupied'&&/*#__PURE__*/React.createElement(\"p\",{className:\"error\"},\"You already have this point.\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",placeholder:\"Price\",name:\"price\",ref:register({required:true})}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Description\",name:\"description\",ref:register({required:true})}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Image url\",name:\"img\",ref:register({required:true})}),/*#__PURE__*/React.createElement(\"div\",{className:\"form__wrapper-btn\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:hideAddForm},\"No Thanks\"),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Add\")))));};var mapStateToProps=function mapStateToProps(state){return{hotDogs:allHotDogsSelector(state)};};var mapDispatchToProps={hideAddForm:hideAddForm,addHotDogStart:addHotDogStart,getAllHotDogsStart:getAllHotDogsStart};export default connect(mapStateToProps,mapDispatchToProps)(AddForm);","map":{"version":3,"sources":["/Users/igor/Desktop/testTask/client/src/components/add-form/add-form.js"],"names":["React","connect","useForm","hideAddForm","addHotDogStart","getAllHotDogsStart","allHotDogsSelector","AddForm","hotDogs","names","map","el","title","register","handleSubmit","errors","saveHotDog","data","required","validate","occupied","value","isOccupied","forEach","type","mapStateToProps","state","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { useForm } from 'react-hook-form';\nimport { hideAddForm, addHotDogStart, getAllHotDogsStart } from '../../redux/actions';\nimport { allHotDogsSelector } from '../../redux/selectors';\nimport './add-form.css';\n\nconst AddForm = ({ hideAddForm, hotDogs, addHotDogStart }) => {\n\n    const names = hotDogs? hotDogs.map((el) => el.title): [];\n    const { register, handleSubmit, errors } = useForm();\n\n    const saveHotDog = (data) => {\n        addHotDogStart(data);\n        hideAddForm();\n    }\n\n    return (\n        <div className='add-form__wrapper'>\n            <div className='add-form'>\n                <h3 className='add-form__title'>Add new hot-dog</h3>\n                <form className='add-form__form' onSubmit={handleSubmit((data) => saveHotDog(data))}>\n                    <input type='text' placeholder='Name' name = 'title' ref={register({ required: true, validate: {\n                        occupied: (value) => {\n                            let isOccupied;\n                            names.forEach(el => {\n                                if(value === el){\n                                    isOccupied = false\n                                }\n                            });\n                            return isOccupied;\n                        }\n                    } })}/>\n\n                    {errors.title && errors.title.type === 'occupied' && (\n                        <p className='error'>You already have this point.</p>\n                    )}\n\n                    <input type='number' placeholder='Price' name='price' ref={register({ required: true })}/>\n                    <input type='text' placeholder='Description' name='description' ref={register({ required: true })}/>\n                    <input type='text' placeholder='Image url'  name='img' ref={register({ required: true })}/>\n                    <div className='form__wrapper-btn'>\n                        <button type='button' onClick={hideAddForm}>No Thanks</button>\n                        <button type='submit'>Add</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        hotDogs: allHotDogsSelector(state)\n    }\n}\n\nconst mapDispatchToProps = {\n    hideAddForm,\n    addHotDogStart,\n    getAllHotDogsStart\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(AddForm);\n\n"]},"metadata":{},"sourceType":"module"}